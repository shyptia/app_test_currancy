(function(){"use strict";var e={8499:function(e,t,r){var n=r(144),o=function(){var e=this,t=e._self._c;return t("main",[t("FormComponent",{attrs:{currencies:e.currencies}}),t("ExchangeRatesComponent",{attrs:{currencies:e.currencies}}),t("button",{staticClass:"add-curracy_button",on:{click:e=>this.isPopUpOpen=!0}},[e._v(" Add new currancy ")]),e.isPopUpOpen?t("PopUpComponent",{on:{"add-currency":e.addCurrancy,close:e=>this.isPopUpOpen=!1}}):e._e()],1)},s=[],c=(r(7658),["USD","EUR","UAH","GBP","BBD","COP","NOK","RON"]),a=function(){var e=this,t=e._self._c;return t("form",{staticClass:"form"},[t("h2",{staticClass:"form__header"},[e._v(" Currency conversion form ")]),t("InputLabel",{attrs:{forId:"convert_from",text:"Choose currancy convert from:"}}),t("div",[t("InputComponent",{attrs:{idValue:"convert_from",amount:e.amountConvertFrom},on:{change:e=>this.amountConvertFrom=Number(e),focus:function(t){return e.handleFirstInputFocused()}},model:{value:this.amountConvertFrom,callback:function(t){e.$set(this,"amountConvertFrom",t)},expression:"this.amountConvertFrom"}}),t("SelectCurrancy",{attrs:{"initial-currancy":this.convertFrom,currencies:e.currencies},on:{select:e=>this.convertFrom=e}})],1),t("InputLabel",{attrs:{forId:"convert_to",text:"Choose currancy convert to:"}}),t("div",[t("InputComponent",{attrs:{idValue:"convert_to",amount:e.amountConvertTo},on:{change:e=>this.amountConvertTo=Number(e),focus:function(t){return e.handleSecondInputFocused()}},model:{value:this.amountConvertTo,callback:function(t){e.$set(this,"amountConvertTo",t)},expression:"this.amountConvertTo"}}),t("SelectCurrancy",{attrs:{"initial-currancy":this.convertTo,currencies:e.currencies},on:{select:e=>this.convertTo=e}})],1),e.errorMessage?t("ErrorNotification",{attrs:{text:e.errorMessage},on:{close:e.resetError}}):e._e()],1)},i=[],u=function(){var e=this,t=e._self._c;return t("select",{staticClass:"form__select",domProps:{value:e.initialCurrancy},on:{change:t=>e.$emit("select",t.target.value)}},e._l(e.currencies,(function(r){return t("option",{key:r,domProps:{value:r}},[e._v(" "+e._s(r)+" ")])})),0)},l=[],p={props:{currencies:{type:Array,required:!0},initialCurrancy:{type:String,required:!0}},emits:["select"]},h=p,d=r(1001),m=(0,d.Z)(h,u,l,!1,null,null,null),v=m.exports,f=function(){var e=this,t=e._self._c;return t("input",{staticClass:"form__input",attrs:{type:"number",id:e.idValue,min:"0"},domProps:{value:e.amount},on:{input:t=>e.$emit("change",t.target.value)}})},y=[],_={props:{idValue:{type:String,required:!0},amount:{type:Number,required:!0}},emits:["change"]},C=_,g=(0,d.Z)(C,f,y,!1,null,null,null),F=g.exports,x=function(){var e=this,t=e._self._c;return t("label",{staticClass:"content",attrs:{for:e.forId}},[e._v(" "+e._s(e.text)+" ")])},b=[],S={props:{forId:{type:String,required:!0},text:{type:String,required:!0}}},I=S,R=(0,d.Z)(I,x,b,!1,null,null,null),E=R.exports,N=function(){var e=this,t=e._self._c;return t("div",{staticClass:"notification"},[t("p",{staticClass:"notification__content"},[e._v(" "+e._s(e.text)+" ")]),t("button",{staticClass:"notification__close",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.$emit("close")}}},[e._v(" X ")])])},T=[],O={props:{text:{type:String,required:!0}},emits:["close"]},w=O,P=(0,d.Z)(w,N,T,!1,null,null,null),U=P.exports,M=r(6154);const $=M.Z.create({baseURL:"https://v6.exchangerate-api.com/v6"}),k="08ced5319f82d2ef56ed1c6c",Z=e=>$.get(`/${k}/latest/${e}`);var q={components:{SelectCurrancy:v,InputComponent:F,InputLabel:E,ErrorNotification:U},props:{currencies:{type:Array,required:!0}},data(){return{convertFrom:"USD",convertTo:"BBD",currancyRate:0,amountConvertFrom:0,amountConvertTo:0,errorMessage:"",isFirstInputFocused:!1,isSecondInputFocused:!1}},mounted(){this.getExchangeRate(),console.log(this.currancyRate)},watch:{convertFrom(){this.getExchangeRate(),this.resetValues()},convertTo(){this.getExchangeRate(),this.resetValues()},amountConvertFrom:{handler(){console.log(this.isFirstInputFocused),console.log(this.currancyRate),this.isSecondInputFocused||(this.amountConvertTo=+(this.amountConvertFrom*this.currancyRate).toFixed(4))},deep:!0},amountConvertTo:{handler(){this.isFirstInputFocused||(this.amountConvertFrom=+(this.amountConvertTo/this.currancyRate).toFixed(4))},deep:!0}},methods:{getExchangeRate(){Z(this.convertFrom).then((e=>{this.currancyRate=e.data.conversion_rates[this.convertTo]})).catch((e=>{this.currancyRate=0,this.resetValues(),this.errorMessage="Something went wrong"}))},resetValues(){this.amountConvertFrom=0,this.amountConvertTo=0},resetError(){this.errorMessage=""},handleFirstInputFocused(){this.isSecondInputFocused=!1,this.isFirstInputFocused=!0},handleSecondInputFocused(){this.isFirstInputFocused=!1,this.isSecondInputFocused=!0}}},D=q,V=(0,d.Z)(D,a,i,!1,null,"5fc956ac",null),A=V.exports,j=function(){var e=this,t=e._self._c;return t("section",{staticClass:"exchange-rate"},[t("h2",{staticClass:"exchange-rate__header"},[e._v(" Find out about current exchange rates ")]),t("form",[t("div",[t("label",{attrs:{for:"currency_select"}},[e._v("Select a currency:")]),t("SelectCurrancy",{attrs:{id:"currency_select","initial-currancy":this.selectedCurrency,currencies:["USD","EUR","UAH"]},on:{select:e=>this.selectedCurrency=e}})],1),t("div",[t("label",{attrs:{for:"currency_select_to"}},[e._v("Select a currency convert to:")]),t("SelectCurrancy",{attrs:{id:"currency_select_to","initial-currancy":this.selectedCurrencyTo,currencies:e.currencies},on:{select:e=>this.selectedCurrencyTo=e}})],1)]),this.errorMessage?t("ErrorNotification",{attrs:{text:this.errorMessage},on:{close:e.resetError}}):t("p",{staticClass:"exchange-rate__amount"},[e._v(" "+e._s(`1 ${this.selectedCurrencyTo} costs ${(1/this.currancyRate).toFixed(5)} ${this.selectedCurrency}ðŸ’²ðŸ’²ðŸ’²`)+" ")])],1)},L=[],B={components:{SelectCurrancy:v,ErrorNotification:U},props:{currencies:{type:Array,required:!0}},data(){return{selectedCurrency:"USD",selectedCurrencyTo:"EUR",currancyRate:null,errorMessage:""}},mounted(){this.getExchangeRate()},watch:{selectedCurrency(){this.getExchangeRate()},selectedCurrencyTo(){this.getExchangeRate()}},methods:{getExchangeRate(){Z(this.selectedCurrency).then((e=>{this.currancyRate=e.data.conversion_rates[this.selectedCurrencyTo]})).catch((e=>{this.errorMessage="Something went wrong"}))},resetError(){this.errorMessage=""}}},H=B,J=(0,d.Z)(H,j,L,!1,null,null,null),X=J.exports,G=function(){var e=this,t=e._self._c;return t("section",{staticClass:"popup__section"},[t("form",{staticClass:"popup__form"},[t("InputLabel",{attrs:{forId:"currancy_name",text:"Please enter currancy you want to add:"}}),t("input",{directives:[{name:"model",rawName:"v-model",value:e.currencyName,expression:"currencyName"}],staticClass:"popup__input",attrs:{id:"currancy_name",type:"text"},domProps:{value:e.currencyName},on:{input:function(t){t.target.composing||(e.currencyName=t.target.value)}}}),t("button",{staticClass:"popup_add-currency",attrs:{type:"submit"},on:{click:function(t){return t.preventDefault(),e.submitForm.apply(null,arguments)}}},[e._v(" Add Currency ")])],1),t("button",{staticClass:"popup__button",attrs:{type:"button"},on:{click:e.closeForm}},[e._v(" X ")]),this.errorMessage?t("ErrorNotification",{attrs:{text:this.errorMessage},on:{close:function(e){this.errorMessage=""}}}):e._e()],1)},K=[],z={components:{ErrorNotification:U,InputLabel:E},data(){return{currencyName:"",errorMessage:""}},methods:{submitForm(){3===this.currencyName.length&&this.currencyName===this.currencyName.toUpperCase()?(this.$emit("add-currency",{name:this.currencyName}),this.currencyName=""):this.errorMessage="Please enter valid currancy"},closeForm(){this.$emit("close")}}},Q=z,W=(0,d.Z)(Q,G,K,!1,null,"271197e7",null),Y=W.exports,ee={data(){let e=c;const t=localStorage.getItem("currencies");return t&&(e=JSON.parse(t)),{currencies:e,isPopUpOpen:!1}},watch:{currencies:{handler(){localStorage.setItem("currencies",JSON.stringify(this.currencies))},deep:!0}},components:{FormComponent:A,ExchangeRatesComponent:X,PopUpComponent:Y},methods:{addCurrancy(e){this.currencies.push(e.name),this.isPopUpOpen=!1}}},te=ee,re=(0,d.Z)(te,o,s,!1,null,null,null),ne=re.exports;n.ZP.config.productionTip=!1,new n.ZP({render:e=>e(ne)}).$mount("#app")}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,r),s.exports}r.m=e,function(){var e=[];r.O=function(t,n,o,s){if(!n){var c=1/0;for(l=0;l<e.length;l++){n=e[l][0],o=e[l][1],s=e[l][2];for(var a=!0,i=0;i<n.length;i++)(!1&s||c>=s)&&Object.keys(r.O).every((function(e){return r.O[e](n[i])}))?n.splice(i--,1):(a=!1,s<c&&(c=s));if(a){e.splice(l--,1);var u=o();void 0!==u&&(t=u)}}return t}s=s||0;for(var l=e.length;l>0&&e[l-1][2]>s;l--)e[l]=e[l-1];e[l]=[n,o,s]}}(),function(){r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};r.O.j=function(t){return 0===e[t]};var t=function(t,n){var o,s,c=n[0],a=n[1],i=n[2],u=0;if(c.some((function(t){return 0!==e[t]}))){for(o in a)r.o(a,o)&&(r.m[o]=a[o]);if(i)var l=i(r)}for(t&&t(n);u<c.length;u++)s=c[u],r.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return r.O(l)},n=self["webpackChunkapp_test_currancy"]=self["webpackChunkapp_test_currancy"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=r.O(void 0,[998],(function(){return r(8499)}));n=r.O(n)})();
//# sourceMappingURL=app.8fc66507.js.map